# Nested set mixins

<% (1..10).each do |counter| %>  
set_<%= counter %>:
  id: <%= counter+3000 %>
  type: NestedSet
  lineage: "0"
<% end %>

# Big old set
<%
[[4001, nil, "0"],
  [4002, 4001, "0.0"],
  [4003, 4002, "0.0.0"],
  [4004, 4002, "0.0.1"],
  [4005, 4001, "0.1"],
  [4006, 4005, "0.1.0"],
  [4007, 4005, "0.1.1"],
  [4008, 4001, "0.2"],
  [4009, 4008, "0.2.0"],
  [4010, 4008, "0.2.1"]].each do |set| %>
tree_<%= set[0] %>:
  id: <%= set[0]%>
  parent_id: <%= set[1]%>
  type: NestedSetWithStringScope
  lineage: <%= set[2]%>
  root_id: 42

<% end %>


# Third group of nested set fixtures.
# the following schematic may help when working with this nested set:
#     ____________________________________________________________________________________________________________
#    | root_node                                                                                                 |
#    |    _____________   _______________________________________    _________________________________________   |
#    |   | child_left |  | child_middle                          |   | child_right                           |   |
#    |   |            |  |   _________   _________   _________   |   |    _________    ___________________   |   |
#    |   |            |  |  |  gc_1  |  |  gc_2  |  |  gc_3  |   |   |   |  gc_4  |   |  gc_5            |   |   |
#    |   |            |  |  |        |  |        |  |        |   |   |   |        |   |    ___________   |   |   |
#    |   |            |  |  |        |  |        |  |        |   |   |   |        |   |   | gg_child |   |   |   |
#    1   2            3  4  5        6  7        8  9       10  11   12  13      14   15  16________17  18  19  20
#    |   |            |  |  |________|  |________|  |________|   |   |   |________|   |__________________|   |   |
#    |   |____________|  |_______________________________________|   |_______________________________________|   |
#    |___________________________________________________________________________________________________________| 
<%
[ ["root_node", 101, 1, "0", nil, "NS1"],
  ["child_left", 102, 1, "0.0", 101, "NestedSetWithStringScope"],
  ["child_middle", 103, 3, "0.1", 101, "NS2"],
  ["child_right", 104, 5, "0.2", 101, "NestedSetWithStringScope"],
  ["gc_1", 105, 3, "0.1.0", 103, "NestedSetWithStringScope"],
  ["gc_2", 106, 3, "0.1.1", 103, "NestedSetWithStringScope"],
  ["gc_3", 107, 3, "0.1.2", 103, "NestedSetWithStringScope"],
  ["gc_4", 108, 6, "0.2.0", 104, "NS2"],
  ["gc_5", 109, 7, "0.2.1", 104, "NS1"],
  ["gg_child", 110, 9, "0.2.1.0", 109, "NestedSetWithStringScope"]].each do |set| %>
ns_<%= set[0] %>:
  id: <%= set[1]%>
  parent_id: <%= set[4]%>
  pos: <%= set[2]%>
  lineage: <%= set[3]%>
  root_id: 101
  type: <%= set[5]%>

<% end %>
